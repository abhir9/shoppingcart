<head>
    <title>Food Order</title>
    <!-- SEO Purpose -->
    <meta name="description" content="Food Order: online food order application">
    <meta name="og:title" content="Food Order">
    <meta name="og:description" content="Food Order: online food order application">
    <meta name="og:image" content="https://fairwaysatbeylea.com/wp-content/uploads/2015/02/Ordering-Food-Online.jpg">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angularjs-toaster/2.2.0/toaster.min.css">
    <style>
        .accordion {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            border-bottom: 1px solid gray;
            text-align: left;
            outline: none;
            font-size: 13px;
            font-weight: 800;
            transition: 0.4s;
        }

        .note {
            position: fixed;
            bottom: 0;
        }

        .categoryclass {
            background-color: #ccc;
        }

        .accordion-cart {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 10px;
            width: 100%;
            border: none;
            text-align: left;
            line-height: 20px;
            outline: none;
            font-size: 15px;
            transition: 0.4s;
        }

        tbody {
            display: contents;
        }

        tbody > tr {
            display: inline-block;
        }

        .active, .accordion:hover {
            background-color: #ccc;
        }

        .couponSuccess {
            background-color: #4CAF50;
        }

        .panel {
            padding: 3px 15px;
            background-color: white;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            margin: 8px 0px 0 0;
        }

        /* The container */
        .container {
            display: block;
            position: relative;
            padding-left: 35px;
            margin-bottom: 12px;
            cursor: pointer;
            font-size: 10px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Hide the browser's default checkbox */
        .container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        /* Create a custom checkbox */
        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 25px;
            width: 25px;
            background-color: #eee;
        }

        /* On mouse-over, add a grey background color */
        .container:hover input ~ .checkmark {
            background-color: #ccc;
        }

        /* When the checkbox is checked, add a blue background */
        .container input:checked ~ .checkmark {
            background-color: #2196F3;
        }

        /* Create the checkmark/indicator (hidden when not checked) */
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        /* Show the checkmark when checked */
        .container input:checked ~ .checkmark:after {
            display: block;
        }

        /* Style the checkmark/indicator */
        .container .checkmark:after {
            left: 9px;
            top: 5px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 3px 3px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        .button {
            border-radius: 10px;
            margin-top: 20px;
            width: 100%;
            background-color: #4CAF50;
            color: white;
        }

        .ordertext {
            font-size: 35px;
            text-align: center;
            width: 100%;
            color: #4CAF50;
        }

        .rtl {
            text-align: center;
            float: right;
            right: 20px;
            top: 38px;
            position: absolute;
        }

        .rightTr {
            display: contents;
            float: right;
            line-height: 3pc;
            font-size: medium;
        }

        .lineSep {
            border-top: 1px solid;
        }

        .xl {
            font-size: 15px;
            font-weight: 800;
        }

        .inlinetable {
            display: table;
            border: 1px solid #C5C2BA;
            border-radius: 2px;
        }

        .fixWidth {
            max-width: 300px;
            width: 300px;

        }
    </style>
</head>
<div>
    <table>
        <tr>
            <td align="left">
                <img src="http://www.freeiconspng.com/uploads/user-icon-png-person-user-profile-icon-20.png"
                     style="width:100px;height:120px;"
                     alt="user"></td>
            <td align="right" class="rtl"><a [routerLink]="['/login']"><img
                    src="data:image/png;base64,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"
                    style="width:50px;height:50px;" alt="user"></a> <h4>Welcome {{currentUser.firstName}} </h4></td>
        </tr>
    </table>
    <form name="Codenx" novalidate *ngIf="!orderdone">
        <table class="table">
            <thead>
            <tr>
                <th *ngIf="!page2">Menu</th>
                <th *ngIf="page2">Cart</th>
            </tr>
            </thead>
            <tbody>
            <div *ngIf="!page2">
                <tr class="fixWidth">
                    <div class="mainDiv" *ngFor="let category of menus.category;">
                        <button class="accordion"
                                (click)="category.isHidden=category.isHidden?!category.isHidden:true;">{{category.name}}<label
                                style="float: right" *ngIf="category.max || category.min">{{category.max?'max:
                            '+category.max:'min: '+category.min}}</label><label style="float: right"
                                                                                *ngIf="category.required">*</label>
                        </button>
                        <div class="panel" [hidden]="!category.isHidden" *ngFor="let item of category.items">
                            <label class="container" for="{{item.name}}">
                                <input type="checkbox" [checked]="item.istick" (change)="item.istick = !item.istick"
                                       id="{{item.name}}" value="{{item.name}}" name="{{item.name}}"> <span
                                    class="checkmark"></span> {{item.name}}</label></div>
                    </div>
                </tr>
                <tr class="rightTr fixWidth">
                    <div *ngFor="let category of menus.category; ">
                        <div *ngFor="let item of category.items;">
                            <td class="accordion-cart " *ngIf="item.istick">{{item.name}}</td>
                            <td class="accordion-cart" *ngIf="item.istick">{{item.price}}</td>
                        </div>
                    </div>
                    <div class="lineSep" *ngIf="getTotal()>0;">
                        <td class="accordion-cart xl">Total</td>
                        <td class="accordion-cart xl">{{getTotal()}}</td>

                        <button class="button" (click)="page2=!page2">Buy Now</button>
                    </div>
                </tr>
            </div>
            <div class="rightTr fixWidth inlinetable" *ngIf="page2">
                <div class="categoryclass" *ngFor="let category of menus.category; ">
                    <label>{{category.name}}</label>
                    <div *ngFor="let item of category.items;">
                        <div *ngIf="item.istick" style="display: flex;">
                            <td class="accordion-cart xl">{{item.name}}</td>
                            <td class="accordion-cart xl">
                                <select *ngIf="item.max" [ngModel]="item.quantity" #t name="item.quantity"
                                        (ngModelChange)="item.quantity=t.value">
                                    <option *ngFor="let x of item.max" [value]="x" [selected]="x == item.quantity">
                                        {{x}}
                                    </option>
                                </select> {{!item.max?1:''}} X {{item.price}}
                            </td>
                            <td class="accordion-cart xl" *ngIf="item.istick">{{item.price*item.quantity}}</td>
                        </div>
                    </div>
                </div>
                <div class="lineSep" *ngIf="getTotal()>0;">
                    <tr>
                        <td class="accordion-cart xl">Coupon</td>
                        <td class="accordion-cart xl">
                            <input [ngClass]="couponSuccess?'couponSuccess':''" [value]="coupon"
                                   (input)="coupon=$event.target.value"/>
                        </td>
                    </tr>
                    <td class="accordion-cart xl">Total</td>
                    <td class="accordion-cart xl">{{getTotal()}}</td>
                    <div style="display: flex;">
                        <button class="button" (click)="page2=!page2">Back</button>
                        <button class="button" (click)="saveOrder()">Pay Now</button>
                    </div>
                </div>
            </div>
            </tbody>
            <label class="note"> Note: * is mandatory </label>
        </table>

    </form>

    <table *ngIf="orderdone">
        <tr class="ordertext">Your order has been taken</tr>
        <tr class="ordertext">Page will refresh in few Sec.</tr>
    </table>
</div>